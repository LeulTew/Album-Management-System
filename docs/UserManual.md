# Album Management System â€” User Manual

Welcome to the Album Management System (AMS)! This guide walks end users through installation, configuration, and everyday operations.

---

## 1. Installation

### 1.1 Windows (Code::Blocks)
1. Clone or download the repository to a local folder (no spaces recommended).
2. Open `Album Management System 1.0.cbp` inside Code::Blocks.
3. Build the **Debug** configuration (Ctrl+F9). The executable appears in `bin/Debug/`.
4. Optional: run `temp_populate.exe` (double-click or from PowerShell) to seed sample records.

### 1.2 Windows (CMake + MinGW/MSVC)
```powershell
cmake -S . -B build -G "MinGW Makefiles"
cmake --build build --config Release
```
Executable: `build/Release/album_management.exe`.

### 1.3 Linux / macOS (CMake)
```bash
cmake -S . -B build
cmake --build build --config Release
```
Executable: `build/album_management`.

> ðŸ’¡  First launch will automatically create `Artist.bin`, `Album.bin`, and `backups/` if missing.

---

## 2. Configuration

- Primary configuration file: `config.json` (optional). Example:
```json
{
  "artistFile": "data/Artist.bin",
  "albumFile": "data/Album.bin",
  "backupDirectory": "backups",
  "backupIndexFile": "backups/index.csv"
}
```
- Configuration is loaded at startup; missing keys fall back to defaults.
- Logs are written to `album_system.log` beside the executable.

---

## 3. Navigating the Console UI

Upon launch you will see the main dashboard:

```
1 â–¸ Artist Manager
2 â–¸ Album Manager
3 â–¸ Backup & Restore
4 â–¸ Statistics
5 â–¸ Undo
6 â–¸ Redo
7 â–¸ Exit
```

### 3.1 Artist Manager
- **Add Artist**: prompts for name, gender, phone, email. IDs auto-increment (`art1000+`).
- **Edit Artist**: choose an artist by ID or prefix search; modify fields interactively.
- **Delete Artist**: cascades deletions to related albums (with undo support).
- **Search Artist**: prefix search by ID or name.

### 3.2 Album Manager
- **Add Album**: choose an artist first, then fill title, format (CD/Vinyl/Digital), release date, asset path.
- **Edit Album**: update details with validation for date/format.
- **Delete Album**: remove individual records with undo support.
- **Search Album**: filter by ID, title, or artist ID. Additional date range filtering is available.

### 3.3 Backup & Restore
- **Create Backup**: writes timestamped copies of `.bin` files into `backups/` and logs checksum in `index.csv`.
- **Restore Backup**: verifies checksum before replacing active databases. Automatically reloads in-memory caches and resets undo history.

### 3.4 Statistics & Exit Flow
- **Statistics**: shows counts of artists, albums, and distribution metrics.
- **Exit**: prints final statistics and flushes logs.

### 3.5 Undo / Redo
- Available after any mutating action. Repeat 5 or 6 to traverse history.
- Undo/redo stacks are cleared during a restore to avoid inconsistent states.

---

## 4. Data Files

| File | Purpose |
| --- | --- |
| `Artist.bin` | Fixed-width binary store for artists. |
| `Album.bin` | Fixed-width binary store for albums. |
| `backups/index.csv` | CSV ledger containing timestamp, file paths, and checksums. |
| `album_system.log` | Plain-text action log. |
| `artists.csv` / `albums.csv` | Optional exports generated from menus. |

Backups are safe to copy elsewhere. Restores require matching checksum.

---

## 5. Troubleshooting

| Symptom | Resolution |
| --- | --- |
| Build error `version.h: No such file or directory` | Ensure `version.h` exists (generated by CMake or provided fallback). |
| Program exits immediately | Run from terminal to view prompts; ensure `.bin` files are writable. |
| Corrupted records / weird characters | Verify your locale is UTF-8. Use built-in validators and avoid editing `.bin` manually. |
| Undo/redo unavailable | Ensure your last operation succeeded; stacks reset after restore. |

---

## 6. Advanced Tips

- Run `run_tests.bat` (Windows) or `test_suite.ps1` for quick regression checks.
- Use `config.json` to redirect binaries to a synced folder (e.g., Dropbox) for easy sharing.
- Inspect `album_system.log` when investigating unexpected behavior.

---

## 7. Support

- Review [`docs/API_REFERENCE.md`](API_REFERENCE.md) if you plan to script operations or extend functionality.
- File issues in the GitHub repository with reproduction steps and logs.
- Contributions welcome! See [`docs/DeveloperGuide.md`](DeveloperGuide.md) for coding standards.
